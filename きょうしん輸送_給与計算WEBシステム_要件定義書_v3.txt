



きょうしん輸送株式会社
勤怠連動型 給与計算WEBシステム
要件定義書
Version 3.0（MF給与データ検証済み・計算ロジック確定版）
作成日：2026年2月6日





HRMOS勤怠API連携 | 協会けんぽ（北海道）| MF給与4か月分突合検証済み

1. プロジェクト概要
本プロジェクトは、きょうしん輸送株式会社で利用中のマネーフォワード クラウド給与を完全に置き換え、HRMOS勤怠管理とAPI連携した自社専用の給与計算WEBシステムを構築するものです。
MF給与の2025年9月〜12月支給分のCSVデータを用いて計算ロジックを検証済みであり、全項目が一致することを確認しています。
2. 会社情報
項目
内容
会社名
きょうしん輸送株式会社
管轄
北海道
所轄税務署
岩見沢
健康保険
協会けんぽ事業所（北海道）
厚生年金
岩見沢年金事務所（事業所番号：08714）
従業員数
現在籍5名以下（退職者含む登録27名）
締め日・支払日
末日締め・翌月20日払い（銀行休業日は手動変更）
社保料徴収
翌月徴収
源泉徴収税額
税額表（月額表）を使用
利用者
管理者1名のみ（社内ネットワーク）
3. 現在籍従業員の給与体系（検証済み）
MF給与CSVデータとの突合検証により、以下の計算パラメータが確定しています。

氏名
区分
基本給
職務手当
月平均所定h
標準報酬
介護保険
雇用保険
渡会流雅
月給(ドライバー)
210,000
10,000
173.0
260,000
なし
0.55%
渡曾羊一
月給(短時間)
100,000
-
89.1
104,000
なし
なし
門馬将太
月給(役員)
370,000
-
-
380,000
あり
なし

※渡曾羊一：年金受給者のため厚生年金なし。短時間勤務で月平均所定労働時間89.1h。
※門馬将太：2025年11月より役員。雇用保険なし。介護保険料は健保欄に合算（40歳以上）。

4. 給与計算ロジック（MFデータ検証確定版）
2025年9月〜12月の4か月分のMF給与CSVデータと突合し、全項目一致を確認済みです。

4-1. 残業代計算
計算項目
計算式
丸め
時間単価
（基本給 + 職務手当）/ 月平均所定労働時間
丸めない（生の小数値を保持）
残業手当（法定外）
時間単価 × 法定外時間 × 1.25
1円未満切り上げ（ceil）
法定内残業手当
時間単価 × 所定外時間 × 1.00
1円未満切り上げ（ceil）
深夜残業手当
時間単価 × 深夜法定外時間 × 1.25
1円未満切り上げ（ceil）
休日出勤手当
時間単価 × 法定休日時間 × 1.35
1円未満切り上げ（ceil）※推定

【検証例】渡会流雅 2025年9月支給分
時間単価 = (210,000 + 10,000) / 173.0 = 1,271.6763...円
残業手当 = 1,271.6763... × 60.0h × 1.25 = 95,375.7225... → ceil → 95,376円 ✓（MF一致）

【重要】深夜残業手当は残業手当と別途加算
深夜法定外の時間は、残業手当（法定外×1.25）にも含まれた上で、深夜残業手当として別途×1.25が加算されます。
4-2. 社会保険料計算
保険種別
計算式
丸め
健康保険料
標準報酬月額 × 51.55‰（協会けんぽ北海道）
50銭以下切捨・50銭超切上
介護保険料
標準報酬月額 × 7.95‰（40歳以上65歳未満）
50銭以下切捨・50銭超切上
厚生年金保険料
標準報酬月額 × 91.5‰
50銭以下切捨・50銭超切上
雇用保険料
総支給額 × 5.5‰（運送業）
50銭以下切捨・50銭超切上

【検証結果】全4か月・全従業員で一致確認済み
健康保険：渡会流雅 260,000×51.55‰=13,403円 ✓ / 門馬将太 380,000×59.5‰=22,610円（介護込み）✓
雇用保険：渡会流雅 9月 315,376×5.5‰=1,734.57→1,735円 ✓（一般事業0.6%ではなく0.55%）

【注意】介護保険料の表示方法
門馬将太（40歳以上）：MFでは健康保険料欄に介護保険料を合算表示。新システムでは分離表示を推奨。
渡曾羊一：厚生年金なし（年金受給者）、雇用保険なし。

【注意】社会保険料の徴収タイミング
翌月徴収：例えば1月分の社会保険料は2月支給の給与（翌月20日払い）から控除します。
4-3. 所得税計算
源泉徴収税額表（月額表・甲欄）を使用。課税対象額 = 総支給額 - 社会保険料合計 - 非課税通勤手当。
扶養人数に応じた税額表から所得税額を決定します。税額表データはマスタとして登録し年度更新します。
4-4. 給与計算フロー
1) HRMOS勤怠からAPI経由で勤怠データ（残業時間等）を取得
2) 従業員ごとに残業代を自動計算（時間単価×時間×割増率→ceil）
3) 総支給額 = 基本給 + 職務手当 + 残業手当 + 法定内残業手当 + 深夜残業手当 + 通勤手当
4) 社会保険料を標準報酬月額・料率から計算（翌月徴収）
5) 雇用保険料 = 総支給額 × 5.5‰
6) 課税対象額 = 総支給額 - 社保料合計 - 非課税通勤手当
7) 所得税 = 税額表（月額表・甲欄）から算出
8) 差引支給額 = 総支給額 - 健保 - 介護 - 厚年 - 雇用保険 - 所得税 - 住民税

5. 所定労働時間・休日設定
項目
渡会流雅
渡曾羊一
1日の所定労働時間
6.7時間
6.7時間
月平均所定労働時間
173.0時間
89.1時間（短時間勤務）
月平均所定労働日数
26.0日
（個別設定）
年間所定労働日数
307日
-

法定休日：日曜日 / 独自休日：年始（1/1〜1/5）、年末（12/30〜12/31）
※従業員ごとに月平均所定労働時間を個別設定できる仕組みが必要です。
6. 社会保険料率（現行・検証済み）
保険種別（/1,000）
被保険者負担
事業主負担
備考
健康保険
51.55
51.55
協会けんぽ（北海道）
介護保険
7.95
7.95
40歳以上65歳未満
厚生年金
91.5
91.5

雇用保険
5.5
9.5
運送業 ※検証確定
子ども・子育て拠出金
0.0
3.6
事業主のみ
7. 部門・職種構成
区分
分類名
対象者例
部門
運送事業
渡会流雅、渡曾羊一

作業受託事業（選果・箱詰め）

職種
トラックドライバー
渡会流雅、渡曾羊一

事務経理・労務管理・運行管理
門馬将太（役員）

農産物選果管理・作業 / 一般事務
（現在該当者なし）
8. 給与明細PDF設定（MF設定準拠）
項目
表示設定
備考
表示月
支給日が属する月

勤怠情報
表示する
出勤日数・残業時間等
時給（時間単価）
印字する

扶養人数
印字する

対象期間
印字する

本年累計
表示しない

税額表区分
印字しない

標準報酬月額
印字しない

所属・部門
印字しない


9. 機能一覧
分類
機能名
詳細
HRMOS連携
勤怠データ取得
HRMOS勤怠APIから月次レポート取得（法定外・所定外・深夜法定外の残業時間を区分取得）

従業員マスタ同期
HRMOS上の従業員情報を同期
従業員管理
従業員情報管理
基本給・職務手当・標準報酬月額・月平均所定労働時間（個別設定可）・介護保険対象・部門・職種

有給休暇管理
付与・取得・残日数管理。年次自動付与

退職者管理
退職者データ保持（27名分の給与履歴）
給与計算
月次給与計算
検証済みロジックで自動計算。残業代ceil・社保50銭処理・雇用保険5.5‰

残業代自動計算
法定外×1.25 / 所定外×1.00 / 深夜法定外×1.25（別途加算）→ 全てceil

社会保険料計算
協会けんぽ北海道料率。介護保険は40歳以上のみ。翌月徴収

所得税計算
月額表（甲欄）。扶養人数考慮

賞与計算
年2回。社保料・所得税自動計算
出力
給与明細PDF
MF設定準拠のレイアウト。勤怠・時給・扶養人数を印字

給与台帳
月別・年間・部門別・職種別。CSV出力対応
データ移行
MFデータ取込
MF給与CSVをインポート（27名分・退職者含む）
10. 画面一覧（12画面）
No
画面名
概要
1
ログイン
管理者ID/パスワード認証
2
ダッシュボード
当月計算状況、未処理件数、支払日、在籍者数
3
従業員一覧
在籍者/退職者切替。部門・職種フィルタ
4
従業員詳細・編集
給与条件・社保・月平均所定時間（個別設定）・介護保険有無
5
勤怠データ取込
HRMOS API経由で月次勤怠を取得・確認
6
月次給与計算
自動計算→確認→修正→確定。部門別表示
7
賞与計算
賞与額入力→社保・所得税自動計算→確定
8
給与明細一覧
月別一覧表示。PDF出力
9
有給休暇管理
付与・取得・残日数管理
10
年間給与台帳
従業員別・部門別・職種別。CSV出力
11
マスタ設定
社保料率・税額表・会社情報・部門職種・休日・月別日数
12
データ移行
MF給与CSVインポート

11. システム構成
レイヤー
技術
選定理由
フロントエンド
Next.js + React + Tailwind CSS
モダンUI・シンプル構成・保守しやすい
バックエンド
Next.js API Routes
フロントと同一プロジェクト
データベース
SQLite + Prisma
サーバー不要・バックアップ容易
PDF生成
@react-pdf/renderer
給与明細・賞与明細出力
認証
NextAuth.js
管理者ログイン
実行環境
Node.js（社内PC）
社内ネットワーク内。Docker可
12. データベース設計
テーブル
主なカラム
employees
社員番号, 氏名, 入社日, 退職日, 基本給, 職務手当, 月平均所定労働時間（個別）, 標準報酬月額, 扶養人数, 介護保険フラグ, 雇用保険フラグ, 厚生年金フラグ, 住民税月額, 部門ID, 職種ID, 役員フラグ
departments
部門ID, 部門名
job_types
職種ID, 職種名
attendance
従業員ID, 対象年月, 出勤日数, 法定外残業時間, 所定外残業時間, 深夜法定外時間, 休日出勤時間, 有給取得日数
payroll
従業員ID, 対象年月, 基本給, 職務手当, 残業手当, 法定内残業手当, 深夜残業手当, 通勤手当, 総支給額, 健保, 介護, 厚年, 雇用保険, 所得税, 住民税, 差引支給額, 確定フラグ
bonus
従業員ID, 支給日, 賞与額, 健保, 介護, 厚年, 雇用保険, 所得税, 差引支給額
paid_leave
従業員ID, 付与日, 付与日数, 取得日数, 残日数, 有効期限
insurance_rates
適用年度, 健保率, 介護率, 厚年率, 雇用保険率（労働者/事業主）, 子育て拠出金率
tax_table
課税対象額範囲, 扶養人数, 税額
company_settings
会社名, 締め日, 支払日, 社保徴収方法
holidays
年度, 日付, 名称, 曜日休日設定

13. 開発スケジュール
Phase
期間
内容
1
2〜3週間
基盤：認証・従業員管理（個別所定時間設定含む）・DB・基本画面
2
2〜3週間
HRMOS API連携：勤怠データ取得（法定外/所定外/深夜の区分対応）
3
3〜4週間
給与計算エンジン：検証済みロジック実装（ceil丸め・5.5‰雇用保険・介護保険分離）
4
1〜2週間
賞与計算・有給管理
5
1〜2週間
PDF出力（MF設定準拠レイアウト）・帳票
6
2〜3週間
MFデータ移行（27名分）・MF計算結果との突合テスト
14. 年次運用・保守
時期
作業
詳細
毎年3〜4月
協会けんぽ料率更新
北海道の健保率・介護率の改定を設定画面で反映
毎年4月
雇用保険料率更新
運送業の労働者負担率を確認・更新
毎年1月
税額表確認
月額表の改定があればマスタ更新
毎年6月
住民税更新
各従業員の特別徴収税額を更新
毎年9月
標準報酬月額改定
算定基礎届後の改定を反映
毎年12月
翌年休日・日数設定
独自休日・月別所定労働日数を登録
定期
バックアップ
SQLiteファイルの定期バックアップ

15. 注意事項・リスク
15-1. 計算ロジックの信頼性
4か月分（9月〜12月）のMFデータで検証済みですが、以下のケースは未検証のため、該当時に追加検証が必要です：
・法定休日出勤（1.35倍）：検証期間中にデータなし。割増率1.35、丸めはceilと推定。
・賞与計算：検証データなし。社保料の計算方式（標準賞与額）は別途確認が必要。
・60時間超の法定外残業（1.50倍）：中小企業も2023年4月から適用。対応要否を確認。
15-2. 法令対応
社保料率・税額表は毎年改定の可能性あり。設定画面から管理者が更新する運用とします。
15-3. セキュリティ
給与情報は重要な個人情報。社内ネットワーク内運用を前提とし、パスワード管理に注意。
15-4. 退職者データ
27名分（退職者含む）のMFデータを移行。源泉徴収票確認等のため保持します。
